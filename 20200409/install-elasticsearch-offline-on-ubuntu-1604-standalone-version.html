<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>Ubuntu16.04离线安装Elasticsearch（单机版） | 端木胥的个人博客</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Linux,ElasticSearch">
    <meta name="description" content="软件配置 Ubuntu版本：16.04 jdk版本：1.8.0_211 Elasticsearch版本：5.6.8  新建elasticsearch用户创建用户在root用户下执行下述命令 1useradd elasticsearch  设置密码1passwd elasticsearch  根据提示输入两次密码，新用户便创建完成 jdk安装elasticsearch环境依赖jdk，因此启动elas">
<meta name="keywords" content="Linux,ElasticSearch">
<meta property="og:type" content="article">
<meta property="og:title" content="Ubuntu16.04离线安装Elasticsearch（单机版）">
<meta property="og:url" content="http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html">
<meta property="og:site_name" content="端木胥的个人博客">
<meta property="og:description" content="软件配置 Ubuntu版本：16.04 jdk版本：1.8.0_211 Elasticsearch版本：5.6.8  新建elasticsearch用户创建用户在root用户下执行下述命令 1useradd elasticsearch  设置密码1passwd elasticsearch  根据提示输入两次密码，新用户便创建完成 jdk安装elasticsearch环境依赖jdk，因此启动elas">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2020-04-09T03:18:33.893Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ubuntu16.04离线安装Elasticsearch（单机版）">
<meta name="twitter:description" content="软件配置 Ubuntu版本：16.04 jdk版本：1.8.0_211 Elasticsearch版本：5.6.8  新建elasticsearch用户创建用户在root用户下执行下述命令 1useradd elasticsearch  设置密码1passwd elasticsearch  根据提示输入两次密码，新用户便创建完成 jdk安装elasticsearch环境依赖jdk，因此启动elas">
    
        <link rel="alternate" type="application/atom+xml" title="端木胥的个人博客" href="/atom.xml">
    
    <link rel="shortcut icon" href="/img/logo.png">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

</head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide">
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.jpg">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">端木胥</h5>
          <a href="mailto:157170555@qq.com" title="157170555@qq.com" class="mail">157170555@qq.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/">
                <i class="icon icon-lg icon-home"></i>
                Home
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives">
                <i class="icon icon-lg icon-archives"></i>
                Archives
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags">
                <i class="icon icon-lg icon-tags"></i>
                Tags
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories">
                <i class="icon icon-lg icon-th-list"></i>
                Categories
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/aptx4869hrj" target="_blank">
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://weibo.com/u/3454630080" target="_blank">
                <i class="icon icon-lg icon-weibo"></i>
                Weibo
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">Ubuntu16.04离线安装Elasticsearch（单机版）</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">Ubuntu16.04离线安装Elasticsearch（单机版）</h1>
        <h5 class="subtitle">
            
                <time datetime="2020-04-09T03:17:18.254Z" itemprop="datePublished" class="page-time">
  2020-04-09
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#软件配置"><span class="post-toc-number">1.</span> <span class="post-toc-text">软件配置</span></a></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#新建elasticsearch用户"><span class="post-toc-number">2.</span> <span class="post-toc-text">新建elasticsearch用户</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#创建用户"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">创建用户</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#设置密码"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">设置密码</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#jdk安装"><span class="post-toc-number">3.</span> <span class="post-toc-text">jdk安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#上传jdk安装包到指定文件夹"><span class="post-toc-number">3.1.</span> <span class="post-toc-text">上传jdk安装包到指定文件夹</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#解压jdk安装包"><span class="post-toc-number">3.2.</span> <span class="post-toc-text">解压jdk安装包</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置环境"><span class="post-toc-number">3.3.</span> <span class="post-toc-text">配置环境</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#测试"><span class="post-toc-number">3.4.</span> <span class="post-toc-text">测试</span></a></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ElasticSearch安装"><span class="post-toc-number">4.</span> <span class="post-toc-text">ElasticSearch安装</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#系统配置"><span class="post-toc-number">4.1.</span> <span class="post-toc-text">系统配置</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#修改文件数配置"><span class="post-toc-number">4.1.1.</span> <span class="post-toc-text">修改文件数配置</span></a></li></ol></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#配置ElasticSearch"><span class="post-toc-number">4.2.</span> <span class="post-toc-text">配置ElasticSearch</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#上传并解压ElasticSearch文件"><span class="post-toc-number">4.2.1.</span> <span class="post-toc-text">上传并解压ElasticSearch文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#创建数据和日志存放文件目录"><span class="post-toc-number">4.2.2.</span> <span class="post-toc-text">创建数据和日志存放文件目录</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#修改ElasticSearch配置文件"><span class="post-toc-number">4.2.3.</span> <span class="post-toc-text">修改ElasticSearch配置文件</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#修改elasticsearch用户组"><span class="post-toc-number">4.2.4.</span> <span class="post-toc-text">修改elasticsearch用户组</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-1"><a class="post-toc-link" href="#ElasticSearch启动与关闭"><span class="post-toc-number">5.</span> <span class="post-toc-text">ElasticSearch启动与关闭</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#进入elasticsearch用户！"><span class="post-toc-number">5.1.</span> <span class="post-toc-text">进入elasticsearch用户！</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#启动elasticsearch"><span class="post-toc-number">5.2.</span> <span class="post-toc-text">启动elasticsearch</span></a></li><li class="post-toc-item post-toc-level-2"><a class="post-toc-link" href="#关闭elasticsearch"><span class="post-toc-number">5.3.</span> <span class="post-toc-text">关闭elasticsearch</span></a></li></ol></li></ol>
        </nav>
    </aside>


<article id="post-Ubuntu16.04离线安装Elasticsearch（单机版）" class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">Ubuntu16.04离线安装Elasticsearch（单机版）</h1>
        <div class="post-meta">
            <time class="post-time" title="2020-04-09 11:17:18" datetime="2020-04-09T03:17:18.254Z" itemprop="datePublished">2020-04-09</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/ElasticSearch/">ElasticSearch</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style="display:none">
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <h1 id="软件配置"><a href="#软件配置" class="headerlink" title="软件配置"></a>软件配置</h1><ul>
<li>Ubuntu版本：16.04</li>
<li>jdk版本：1.8.0_211</li>
<li>Elasticsearch版本：5.6.8</li>
</ul>
<h1 id="新建elasticsearch用户"><a href="#新建elasticsearch用户" class="headerlink" title="新建elasticsearch用户"></a>新建elasticsearch用户</h1><h2 id="创建用户"><a href="#创建用户" class="headerlink" title="创建用户"></a>创建用户</h2><p>在root用户下执行下述命令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd elasticsearch</span><br></pre></td></tr></table></figure>

<h2 id="设置密码"><a href="#设置密码" class="headerlink" title="设置密码"></a>设置密码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd elasticsearch</span><br></pre></td></tr></table></figure>

<p>根据提示输入两次密码，新用户便创建完成</p>
<h1 id="jdk安装"><a href="#jdk安装" class="headerlink" title="jdk安装"></a>jdk安装</h1><p>elasticsearch环境依赖jdk，因此启动elasticsearch必须要有jdk环境</p>
<h2 id="上传jdk安装包到指定文件夹"><a href="#上传jdk安装包到指定文件夹" class="headerlink" title="上传jdk安装包到指定文件夹"></a>上传jdk安装包到指定文件夹</h2><p>这里通过xftp 将jdk安装包上传至 /usr/local/ 目录下</p>
<h2 id="解压jdk安装包"><a href="#解压jdk安装包" class="headerlink" title="解压jdk安装包"></a>解压jdk安装包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf jdk-8u211-linux-x64.tar.gz</span><br></pre></td></tr></table></figure>

<p>解压之后会在 /usr/local/ 目录下生成 jdk1.8.0_211 文件</p>
<h2 id="配置环境"><a href="#配置环境" class="headerlink" title="配置环境"></a>配置环境</h2><p>在 /etc/profile 文件下添加以下配置</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">export JAVA_HOME=/usr/local/jdk1.8.0_211/</span><br><span class="line">export JRE_HOME=$&#123;JAVA_HOME&#125;/jre</span><br><span class="line">export CLASSPATH=.:$&#123;JAVA_HOME&#125;/lib:$&#123;JRE_HOME&#125;/lib:$CLASSPATH</span><br><span class="line">export PATH=$PATH:$&#123;JAVA_HOME&#125;/bin:$JRE_HOME/bin:$PATH</span><br></pre></td></tr></table></figure>

<p>编辑完退出之后执行以下命令，使环境生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><p>执行 java -version 命令，出现以下提示则表示jdk安装完成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">java version &quot;1.8.0_211&quot;</span><br><span class="line">Java(TM) SE Runtime Environment (build 1.8.0_211-b12)</span><br><span class="line">Java HotSpot(TM) 64-Bit Server VM (build 25.211-b12, mixed mode)</span><br></pre></td></tr></table></figure>

<h1 id="ElasticSearch安装"><a href="#ElasticSearch安装" class="headerlink" title="ElasticSearch安装"></a>ElasticSearch安装</h1><h2 id="系统配置"><a href="#系统配置" class="headerlink" title="系统配置"></a>系统配置</h2><h3 id="修改文件数配置"><a href="#修改文件数配置" class="headerlink" title="修改文件数配置"></a>修改文件数配置</h3><p>在 /etc/security/limits.conf 文件下添加以下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">* soft nofile 65536  # 单个用户可用的最大进程数量(超过会警告)</span><br><span class="line">* hard nofile 131072  # 单个用户可用的最大进程数量(超过会报错)</span><br><span class="line">* soft nproc 2048  # 可打开的文件描述符的最大数(超过会警告)</span><br><span class="line">* hard nproc 4096  # 可打开的文件描述符的最大数(超过会报错)</span><br></pre></td></tr></table></figure>

<p>在 /etc/profile 文件下添加以下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ulimit -SHn 65536</span><br></pre></td></tr></table></figure>

<p>linux下用ulimit设置连接数最大值，默认是1024。在高负载下要设置为更高，但最高只能为65535</p>
<p>在 /etc/sysctl.conf 文件下添加以下内容</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vm.max_map_count=655360 # 文件包含限制一个进程可以拥有的VMA(虚拟内存区域)的数量</span><br></pre></td></tr></table></figure>

<p>添加完后执行以下命令使上面添加的内容生效</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br><span class="line"></span><br><span class="line">sudo sysctl -p</span><br></pre></td></tr></table></figure>

<h2 id="配置ElasticSearch"><a href="#配置ElasticSearch" class="headerlink" title="配置ElasticSearch"></a>配置ElasticSearch</h2><h3 id="上传并解压ElasticSearch文件"><a href="#上传并解压ElasticSearch文件" class="headerlink" title="上传并解压ElasticSearch文件"></a>上传并解压ElasticSearch文件</h3><p>通过xftp 将elasticsearch-5.6.8.tar.gz 文件上传至 /usr/local/ 目录下，在root用户下通过以下命令进行文件解压，配置环节都在root用户下进行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// 先进入root用户下，否则没有权限</span><br><span class="line">su root</span><br><span class="line"></span><br><span class="line">// 再进行解压</span><br><span class="line">tar -zxvf elasticsearch-5.6.8.tar.gz</span><br></pre></td></tr></table></figure>

<p>此时/usr/local/ 目录下便有了解压后的 elasticsearch-5.6.8 文件夹</p>
<h3 id="创建数据和日志存放文件目录"><a href="#创建数据和日志存放文件目录" class="headerlink" title="创建数据和日志存放文件目录"></a>创建数据和日志存放文件目录</h3><p>进入elasticsearch-5.6.8文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd elasticsearch-5.6.8</span><br></pre></td></tr></table></figure>

<p>创建数据和日志存放文件目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir data</span><br><span class="line">mkdir logs</span><br></pre></td></tr></table></figure>

<h3 id="修改ElasticSearch配置文件"><a href="#修改ElasticSearch配置文件" class="headerlink" title="修改ElasticSearch配置文件"></a>修改ElasticSearch配置文件</h3><p>进入编辑elasticsearch-5.6.8/config目录下的elasticsearch.yml</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vim /usr/local/elasticsearch-5.6.8/config/elasticsearch.yml</span><br></pre></td></tr></table></figure>

<p>找到以下的条目并进行相应修改，或者直接复制了放在配置文件下方也行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cluster.name: es-cluster  #设置集群的名称</span><br><span class="line">node.name: es-node   #修改当前节点的名称</span><br><span class="line">path.data: /usr/local/elasticsearch-5.6.8/data  #修改数据路径</span><br><span class="line">path.logs: /usr/local/elasticsearch-5.6.8/logs  #修改日志路径</span><br><span class="line">bootstrap.memory_lock: false   #设置ES节点允许内存交换</span><br><span class="line">bootstrap.system_call_filter: false   #禁用系统调用过滤器</span><br><span class="line">network.host: master    #设置当前主机名称</span><br><span class="line">discovery.zen.ping.unicast.hosts: [&quot;master&quot;]   #设置集群的主机列表</span><br></pre></td></tr></table></figure>

<h3 id="修改elasticsearch用户组"><a href="#修改elasticsearch用户组" class="headerlink" title="修改elasticsearch用户组"></a>修改elasticsearch用户组</h3><p>通过下述命令将elasticsearch文件权限赋给elasticsearch用户</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chown -R elasticsearch:elasticsearch /usr/local/elasticsearch-5.6.8</span><br></pre></td></tr></table></figure>

<p>至此，elasticsearch便配置完成</p>
<h1 id="ElasticSearch启动与关闭"><a href="#ElasticSearch启动与关闭" class="headerlink" title="ElasticSearch启动与关闭"></a>ElasticSearch启动与关闭</h1><h2 id="进入elasticsearch用户！"><a href="#进入elasticsearch用户！" class="headerlink" title="进入elasticsearch用户！"></a>进入elasticsearch用户！</h2><p>启动elasticsearch不能在root用户下进行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su elasticsearch</span><br></pre></td></tr></table></figure>

<h2 id="启动elasticsearch"><a href="#启动elasticsearch" class="headerlink" title="启动elasticsearch"></a>启动elasticsearch</h2><p>使用以下命令启动elasticsearch</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/usr/local/elasticsearch-5.6.8/bin/elasticsearch -d</span><br></pre></td></tr></table></figure>

<p>此时在 /usr/local/elasticsearch-5.6.8/logs/es-cluster.log日志文件下便能看到启动成功的消息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">[2020-04-09T02:03:48,934][INFO ][o.e.n.Node               ] [es-node] initializing ...</span><br><span class="line">[2020-04-09T02:03:49,035][INFO ][o.e.e.NodeEnvironment    ] [es-node] using [1] data paths, mounts [[/ (/dev/sda1)]], net usable_space [16.6gb], net total_space [23.5gb], spins? [possibly], types </span><br><span class="line">[ext4][2020-04-09T02:03:49,035][INFO ][o.e.e.NodeEnvironment    ] [es-node] heap size [1.9gb], compressed ordinary object pointers [true]</span><br><span class="line">[2020-04-09T02:03:49,036][INFO ][o.e.n.Node               ] [es-node] node name [es-node], node ID [u9kDBekMRxi8KWOBIGcwAg]</span><br><span class="line">[2020-04-09T02:03:49,037][INFO ][o.e.n.Node               ] [es-node] version[5.6.8], pid[27500], build[688ecce/2018-02-16T16:46:30.010Z], OS[Linux/4.4.0-142-generic/amd64], JVM[Oracle Corporation</span><br><span class="line">/Java HotSpot(TM) 64-Bit Server VM/1.8.0_211/25.211-b12][2020-04-09T02:03:49,037][INFO ][o.e.n.Node               ] [es-node] JVM arguments [-Xms2g, -Xmx2g, -XX:+UseConcMarkSweepGC, -XX:CMSInitiatingOccupancyFraction=75, -XX:+UseCMSInitiatingOccupancyO</span><br><span class="line">nly, -XX:+AlwaysPreTouch, -Xss1m, -Djava.awt.headless=true, -Dfile.encoding=UTF-8, -Djna.nosys=true, -Djdk.io.permissionsUseCanonicalPath=true, -Dio.netty.noUnsafe=true, -Dio.netty.noKeySetOptimization=true, -Dio.netty.recycler.maxCapacityPerThread=0, -Dlog4j.shutdownHookEnabled=false, -Dlog4j2.disable.jmx=true, -Dlog4j.skipJansi=true, -XX:+HeapDumpOnOutOfMemoryError, -Des.path.home=/usr/local/elasticsearch][2020-04-09T02:03:49,955][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [aggs-matrix-stats]</span><br><span class="line">[2020-04-09T02:03:49,955][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [ingest-common]</span><br><span class="line">[2020-04-09T02:03:49,955][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [lang-expression]</span><br><span class="line">[2020-04-09T02:03:49,955][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [lang-groovy]</span><br><span class="line">[2020-04-09T02:03:49,956][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [lang-mustache]</span><br><span class="line">[2020-04-09T02:03:49,957][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [lang-painless]</span><br><span class="line">[2020-04-09T02:03:49,957][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [parent-join]</span><br><span class="line">[2020-04-09T02:03:49,957][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [percolator]</span><br><span class="line">[2020-04-09T02:03:49,957][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [reindex]</span><br><span class="line">[2020-04-09T02:03:49,957][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [transport-netty3]</span><br><span class="line">[2020-04-09T02:03:49,957][INFO ][o.e.p.PluginsService     ] [es-node] loaded module [transport-netty4]</span><br><span class="line">[2020-04-09T02:03:49,958][INFO ][o.e.p.PluginsService     ] [es-node] no plugins loaded</span><br><span class="line">[2020-04-09T02:03:51,680][INFO ][o.e.d.DiscoveryModule    ] [es-node] using discovery type [zen]</span><br><span class="line">[2020-04-09T02:03:52,176][INFO ][o.e.n.Node               ] [es-node] initialized</span><br><span class="line">[2020-04-09T02:03:52,176][INFO ][o.e.n.Node               ] [es-node] starting ...</span><br><span class="line">[2020-04-09T02:03:52,317][INFO ][o.e.t.TransportService   ] [es-node] publish_address &#123;192.168.0.106:9300&#125;, bound_addresses &#123;192.168.0.106:9300&#125;</span><br><span class="line">[2020-04-09T02:03:52,326][INFO ][o.e.b.BootstrapChecks    ] [es-node] bound or publishing to a non-loopback address, enforcing bootstrap checks</span><br><span class="line">[2020-04-09T02:03:55,420][INFO ][o.e.c.s.ClusterService   ] [es-node] new_master &#123;es-node&#125;&#123;u9kDBekMRxi8KWOBIGcwAg&#125;&#123;Zlaf7S5BRbqosFtqkgvR-A&#125;&#123;master&#125;&#123;192.168.0.106:9300&#125;, reason: zen-disco-elected-as</span><br><span class="line">-master ([0] nodes joined)[2020-04-09T02:03:55,453][INFO ][o.e.h.n.Netty4HttpServerTransport] [es-node] publish_address &#123;192.168.0.106:9200&#125;, bound_addresses &#123;192.168.0.106:9200&#125;</span><br><span class="line">[2020-04-09T02:03:55,453][INFO ][o.e.n.Node               ] [es-node] started</span><br><span class="line">[2020-04-09T02:03:55,455][INFO ][o.e.g.GatewayService     ] [es-node] recovered [0] indices into cluster_state</span><br></pre></td></tr></table></figure>

<p>并且在本地浏览器中输入 192.168.0.106:9200 也能看到elasticsearch推送出来的消息</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  &quot;name&quot; : &quot;es-node&quot;,</span><br><span class="line">  &quot;cluster_name&quot; : &quot;es-cluster&quot;,</span><br><span class="line">  &quot;cluster_uuid&quot; : &quot;oCrLIXMJQ_WzSd1-7lLeYw&quot;,</span><br><span class="line">  &quot;version&quot; : &#123;</span><br><span class="line">    &quot;number&quot; : &quot;5.6.8&quot;,</span><br><span class="line">    &quot;build_hash&quot; : &quot;688ecce&quot;,</span><br><span class="line">    &quot;build_date&quot; : &quot;2018-02-16T16:46:30.010Z&quot;,</span><br><span class="line">    &quot;build_snapshot&quot; : false,</span><br><span class="line">    &quot;lucene_version&quot; : &quot;6.6.1&quot;</span><br><span class="line">  &#125;,</span><br><span class="line">  &quot;tagline&quot; : &quot;You Know, for Search&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="关闭elasticsearch"><a href="#关闭elasticsearch" class="headerlink" title="关闭elasticsearch"></a>关闭elasticsearch</h2><p>通过jps命令找到Elasticsearch进程号，直接kill就可以</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">elasticsearch@master:/usr/local$ jps</span><br><span class="line">27500 Elasticsearch</span><br><span class="line">27631 Jps</span><br><span class="line">elasticsearch@master:/usr/local$ kill -9 27500</span><br><span class="line">elasticsearch@master:/usr/local$ jps</span><br><span class="line">27643 Jps</span><br></pre></td></tr></table></figure>


        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2020-04-09T03:18:33.893Z" itemprop="dateUpdated">2020-04-09 11:18:33</time>
</span><br>


        
        转载联系1571170555@qq.com
        
    </div>
    
    <footer>
        <a href="http://www.duanmuxu.top">
            <img src="/img/avatar.jpg" alt="端木胥">
            端木胥
        </a>
    </footer>
</blockquote>

        
<div class="page-reward">
    <a id="rewardBtn" href="javascript:;" class="page-reward-btn waves-effect waves-circle waves-light">赏</a>
</div>



        <div class="post-footer">
            
	<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ElasticSearch/">ElasticSearch</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html&title=《Ubuntu16.04离线安装Elasticsearch（单机版）》 — 端木胥的个人博客&pic=http://www.duanmuxu.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html&title=《Ubuntu16.04离线安装Elasticsearch（单机版）》 — 端木胥的个人博客&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Ubuntu16.04离线安装Elasticsearch（单机版）》 — 端木胥的个人博客&url=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html&via=http://www.duanmuxu.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between flex-row-reverse">
  

  
    <div class="waves-block waves-effect next">
      <a href="/20200408/ubuntu1604-offline-installation-of-redis-standalone-version.html" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">Ubuntu16.04离线安装redis（单机版）</h4>
      </a>
    </div>
  
</nav>



    











    <!-- Valine Comments -->
    <div class="comments vcomment" id="comments"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script>
    <!-- Valine Comments script -->
    <script>
        var GUEST_INFO = ['nick','mail','link'];
        var guest_info = 'nick,mail,link'.split(',').filter(function(item){
          return GUEST_INFO.indexOf(item) > -1
        });
        new Valine({
            el: '#comments',
            notify: 'false' == 'true',
            verify: 'false' == 'true',
            appId: "TkNx8qQrs1R3XrIeuTt3bIvD-gzGzoHsz",
            appKey: "1rYKcKGqfnSVtHTn1uyOKqhw",
            avatar: "mm",
            placeholder: "Just commit",
            guest_info: guest_info.length == 0 ? GUEST_INFO : guest_info,
            pageSize: "10"
        })
    </script>
    <!-- Valine Comments end -->










</article>

<div id="reward" class="page-modal reward-lay">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <h3 class="reward-title">
        <i class="icon icon-quote-left"></i>
        谢谢大爷~
        <i class="icon icon-quote-right"></i>
    </h3>
    <div class="reward-content">
        
        <div class="reward-code">
            <img id="rewardCode" src="/img/wechat.jpg" alt="打赏二维码">
        </div>
        
        <label class="reward-toggle">
            <input id="rewardToggle" type="checkbox" class="reward-toggle-check" data-wechat="/img/wechat.jpg" data-alipay="/img/alipay.jpg">
            <div class="reward-toggle-ctrol">
                <span class="reward-toggle-item wechat">微信</span>
                <span class="reward-toggle-label"></span>
                <span class="reward-toggle-item alipay">支付宝</span>
            </div>
        </label>
        
    </div>
</div>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style="display:none">
        站点总访客数：<span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style="display:none">
        站点总访问量：<span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>端木胥 &copy; 2018 - 2020</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html&title=《Ubuntu16.04离线安装Elasticsearch（单机版）》 — 端木胥的个人博客&pic=http://www.duanmuxu.top/img/avatar.jpg" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html&title=《Ubuntu16.04离线安装Elasticsearch（单机版）》 — 端木胥的个人博客&source=" data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《Ubuntu16.04离线安装Elasticsearch（单机版）》 — 端木胥的个人博客&url=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html&via=http://www.duanmuxu.top" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.duanmuxu.top/20200409/install-elasticsearch-offline-on-ubuntu-1604-standalone-version.html" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAAAAADAeSUUAAADG0lEQVR42u3ayW7jQAwFwPz/T2euAySWH8l2YNGlk+GlW9UCwnD5+oqv7/+uR+9cf//npz9f5yvk3xld2NjY2Ddhf19ej75zDchXuL6H6+9c73u9GjY2NvY+di/MPPo0WTMH947+yf1gY2NjfzA7D3LJ1UtdsLGxsbFfwY42i0l5UoGNjY2NnQeYXhGq2k7o7f7CWho2Njb227Pzruj7v35JfxsbGxv7jdmTAlA1XckDSXWIp6zAxsbGXsSuln6S1KKXcuSr5U3lJ3eFjY2NvYg9H7I51ZqdlKV6zQlsbGzsHexquT8v6FTD3qQ9XA6Q2NjY2IvYpwLYpIlbXadXisLGxsbex64Gqhzc41UTm94DwMbGxt7ErtZbXteO7e2bfFoY6MHGxsa+IbtHqpaHqu2El7clsLGxsRexJxtMEobeYWFjY2NjVwNYr2xUvYleizcfA4r6z9jY2Ni3ZecbTJbuDe7MR3kKjQFsbGzs27J7hfhJIalaxqpOHkUKbGxs7KXsajP1+lB67dtqC6F3ENjY2Ni72ZPb6h3BpLzVHPfBxsbGXsrOA09e6MmDVrk7PbmwsbGxF7GrIziTm87DT3MQp/grbGxs7B3sXojqhbHJKM+88YCNjY39OezJ8E11pOZUAzh/eNjY2Nj72NXuZ95qLRTriyFqUiMqP0lsbGzst2cnKUeekEzSkupAT7Xd+0vcxsbGxl7BzsNYHtJ6gSe5uer7ycPDxsbG3sGuBqe/bNbm65TDLTY2NvY6dv5PfHUCqJrwVFsOzekkbGxs7HXs3qjNqYM4dTSFQ8TGxsZex56nEEkbeD4SlDckngRCbGxs7A9g54zeuE91JGgyuPOwPYCNjY19c/Z38ZoUdJJ05VTKUXjO2NjY2DdnV//0V8cc85tLilD5YUVxGxsbG3sRu9rczQPMJOzlazYPBRsbG3sdu1fK6QW2SXG/d6DY2NjY2KeGdaq7TMaGniQn2NjY2B/M7iUVp/bqDQD98itsbGzsdeyzxf1e0zcpG1XD1YFaGjY2NvbbsycJw6kRnElSlP8KGxsbex37HxuYKyZzAI0kAAAAAElFTkSuQmCC" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: true };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



<script>
(function() {
    var OriginTitile = document.title, titleTime;
    document.addEventListener('visibilitychange', function() {
        if (document.hidden) {
            document.title = '快回来！';
            clearTimeout(titleTime);
        } else {
            document.title = '(つェ⊂)咦!又好了!';
            titleTime = setTimeout(function() {
                document.title = OriginTitile;
            },2000);
        }
    });
})();
</script>



</body>
</html>
